<!-- Navbar -->
<nav class="navbar navbar-main navbar-expand-lg position-sticky mt-2 top-1 px-0 py-1 mx-3 shadow-none border-radius-lg z-index-sticky">
	<div class="container-fluid py-1">
		<div class="sidenav-toggler sidenav-toggler-inner d-xl-block d-none">
			<a href="javascript:;" class="nav-link text-white p-0">
				<div class="sidenav-toggler-inner">
					<i class="sidenav-toggler-line bg-white"></i>
					<i class="sidenav-toggler-line bg-white"></i>
					<i class="sidenav-toggler-line bg-white"></i>
				</div>
			</a>
		</div>
		<div class="collapse navbar-collapse me-md-0 me-sm-4 mt-sm-0 mt-2" id="navbar">
			<div class="ms-md-auto pe-md-3 d-flex align-items-center">
				&nbsp;
			</div>
			{% if app.request.attributes.get('_route') != 'app_compte_public' %}
			<ul class="navbar-nav justify-content-end">
				<li class="nav-item d-flex align-items-center">
					<a href="{{ path('app_logout') }}" class="nav-link text-white font-weight-bold px-0">
						<i class="material-symbols-rounded me-2">
							logout
						</i>
					</a>
				</li>
				<li class="nav-item dropdown pe-2 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-white p-0 position-relative" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
						<i class="material-symbols-rounded me-1">
							notifications
						</i>
						<span id="notifContainer" class="position-absolute top-5 start-100 translate-middle badge rounded-pill bg-danger border border-white small py-1 px-2">
							<span class="small" id="countNotif">{{ app.user.notifications|length }}</span>
							<span class="visually-hidden">Notifications</span>
						</span>
					</a>
					<ul class="dropdown-menu dropdown-menu-end p-2 ms-n4 border border-primary rounded dropdown-glow-pink" aria-labelledby="dropdownMenuButton">
						<div class="notification-scroll p-2">
						{% for n in app.user.notifications %}
						<li class="mb-2" id="notification-{{ n.id }}">
							<a class="dropdown-item border-radius-md p-2 d-flex align-items-start justify-content-between w-100 mw-100" href="javascript:;">
								<div class="d-flex">
									<div class="d-flex flex-column justify-content-center">
										<h6 class="text-sm font-weight-normal mb-1 mb-0">
											{{ n.texte }}
										</h6>
									</div>
								</div>
								
								<!-- bouton supprimer -->
								<button class="btn btn-sm btn-outline-danger px-2 py-0 ms-2 delete-notification-btn"
										data-id="{{ n.id }}" title="Supprimer">
									<i class="fas fa-trash-alt"></i>
								</button>
							</a>
						</li>
						{% endfor %}
						</div>
						{% if app.user.notifications is not empty %}
						<!-- Fin de la liste scrollable -->
						<div class="notification-footer text-center p-3 border-top border-light bg-dark">
							<button class="btn btn-danger px-4 py-2 rounded-pill mb-0" id="deleteAllNotification">
								<i class="fas fa-trash-alt me-1"></i> Supprimer toutes les notifications
							</button>
						</div>
						{% endif %}
					</ul>
				</li>
				<li class="nav-item d-xl-none ps-3 pe-0 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-body p-0" id="iconNavbarSidenav">
						<div class="sidenav-toggler-inner">
							<i class="sidenav-toggler-line bg-white"></i>
							<i class="sidenav-toggler-line bg-white"></i>
							<i class="sidenav-toggler-line bg-white"></i>
						</div>
					</a>
				</li>
				{#<li class="nav-item px-3 d-flex align-items-center">
					<a href="javascript:;" class="nav-link text-white p-0">
						<i class="material-symbols-rounded fixed-plugin-button-nav cursor-pointer">
							settings
						</i>
					</a>
				</li>#}
				
			</ul>
			{% endif %}
		</div>
	</div>
</nav>
<!-- End Navbar -->
